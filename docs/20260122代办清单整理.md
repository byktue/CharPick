2026.1.22.
# CharPick 项目迭代待办清单
## 阶段一：前端交互增强（优先）
- [ ] 实现实时日志面板：后端新增 `/logs` 流式接口（基于 SSE 技术），前端添加日志展示框
- [ ] 开发设置页面：新建 `Settings.vue`，配置 Ollama URL、Model Name 输入框，支持 localStorage 本地存储配置项

## 阶段二：后端逻辑重构
- [ ] 重构并行提取管线：修改 `long.py`，使用 `asyncio.gather` 实现“剧情梗概+角色言行”多维度并行提取，合并结果存入 JSONL
- [ ] 优化 Prompt 体系：编写“人设合成”专用 Prompt，支持角色性格关键词、说话风格等维度提取

## 阶段三：模型评测与选型
- [ ] 拉取候选本地模型：通过 Ollama pull Qwen2.5 (7B/14B)、DeepSeek-R1 (7B/8B)、Yi-1.5 (9B/34B)、Gemma 2 (9B)
- [ ] 执行基准测试：以《神游》前3章为测试集，完成模型效果对比
- [ ] 调研行业人设提取项目：分析同类工程的提取维度、技术方案，补充人设提取维度

## 阶段四：架构与体验优化
- [ ] 确认模型服务解耦：保持 CharPick 业务层轻量化，仅通过 HTTP API 调用独立部署的 Ollama 模型服务
- [ ] 验证输出数据结构：适配 AI 人设标准结构（Name/Tone/Catchphrases/Worldview/Relationships）

### 总结
1. 优先完成前端交互层的实时日志和配置面板开发，提升用户可操作、可观测性；
2. 后端核心改造聚焦多维度并行提取和人设合成 Prompt 设计，夯实数据输出质量；
3. 模型层坚持“业务-模型”解耦原则，通过标准化评测选取出适合中文网文的最优模型。